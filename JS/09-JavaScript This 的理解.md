> ## JavaScript This 的理解
---
## this 是在函数被调用时发生的绑定，它指向什么完全取决于函数在哪里被调用.
---
- this 的四种绑定规则
    1. 默认绑定
    2. 隐式绑定
    3. 显式绑定
    4. new 绑定

> 默认绑定
- 这是最直接的一种方式，就是不加任何的修饰符直接调用函数

> 隐式绑定
- 这种情况会发生在调用位置存在「上下文对象」的情况，如：
```javascript
    function foo() {
    console.log(this.a);
    }

    let obj1 = {
    a: 1,
    foo,
    };

    let obj2 = {
    a: 2,
    foo,
    }

    obj1.foo();   // 输出 1
    obj2.foo();   // 输出 2
```
当函数调用的时候，拥有上下文对象的时候，`this` 会被绑定到该上下文对象。
正如上面的代码，
`obj1.foo()` 被调用时，`this` 绑定到了 `obj1`,
而 `obj2.foo()` 被调用时，`this` 绑定到了 `obj2`。


> 显示绑定
- 这种就是使用 Function.prototype 中的三个方法 call(), apply(), bind() 了。
- 这三个函数，都可以改变函数的 this 指向到指定的对象，不同之处在于，call() 和 apply() 是立即执行函数，并且接受的参数的形式不同：
```javascript
call(this, arg1, arg2, ...)
apply(this, [arg1, arg2, ...])
```
而 `bind()` 则是创建一个新的包装函数，并且返回，而不是立刻执行。
```javascript
bind(this, arg1, arg2, ...)
```
apply() 接收参数的形式，有助于函数嵌套函数的时候，把 arguments 变量传递到下一层函数中。

> new 绑定
- 使用 new 来调用函数，会自动执行下面操作：
    - 创建一个全新的对象。
    - 这个新对象会被执行 [[Prototype]] 连接。
    - 这个新对象会绑定到函数调用的 this。
    - 如果函数没有返回其他对象，那么 new 表达式中的函数调用会自动返回这个新对象。

> 总结，this是啥
- `this` 并不是在编写的时候绑定的，而是在运行时绑定的。它的上下文取决于函数调用时的各种条件。`this` 的绑定和函数声明的位置没有任何关系，只取决于函数的调用方式。当一个函数被调用时，会创建一个「执行上下文」，这个上下文会包含函数在哪里被调用（调用栈）、函数的调用方式、传入的参数等信息。`this` 就是这个记录的一个属性，会在函数执行的过程中用到。

作者：JerryC
链接：https://juejin.im/post/596a28f6f265da6c360a2716
来源：掘金